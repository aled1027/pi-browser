{
  "id": "5ac3ab15",
  "title": "Simplify Agent prompt API with callback-based `send()` method",
  "tags": [],
  "status": "done",
  "created_at": "2026-02-12T19:28:50.177Z"
}

## Problem
`prompt()` returns `AsyncGenerator<AgentEvent>` requiring ~30 lines of boilerplate in every consumer to accumulate text deltas, track tool calls, and handle errors. All 3 examples (chat, tutor, sveltekit-chat) have nearly identical switch-case blocks.

## Solution
Add a `send(text, callbacks?)` method that returns `Promise<PromptResult>`:
- `PromptResult = { text: string, toolCalls: ToolCall[] }`
- Optional callbacks: `onText`, `onToolCallStart`, `onToolCallEnd`, `onError`
- Keep existing `prompt()` generator as `promptStream()` for advanced use cases

## Tasks
- [ ] Add types: `PromptResult`, `PromptCallbacks` 
- [ ] Implement `send()` on Agent, delegating to existing `prompt()` logic
- [ ] Keep `prompt()` as alias for backward compat (or rename to `promptStream`)
- [ ] Update all 3 examples to use `send()`
- [ ] Update exports in index.ts
- [ ] Build and verify
